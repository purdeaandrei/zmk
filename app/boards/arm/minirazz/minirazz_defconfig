# SPDX-License-Identifier: Apache-2.0

CONFIG_SOC_SERIES_RP2XXX=y
CONFIG_SOC_RP2040=y
CONFIG_BOARD_MINIRAZZ=y

CONFIG_SYS_CLOCK_HW_CYCLES_PER_SEC=125000000

# Enable GPIO
CONFIG_GPIO=y

# enable uart driver
CONFIG_SERIAL=n

# enable console
CONFIG_CONSOLE=n
CONFIG_UART_CONSOLE=n
CONFIG_UART_INTERRUPT_DRIVEN=n
CONFIG_ZMK_USB=y
CONFIG_USB_SELF_POWERED=n
CONFIG_USB_DEVICE_REMOTE_WAKEUP=y

# Note: MAX_POWER is in units of 2mA
# TODO: change this to 250 if adding solenoid driver support:
CONFIG_USB_MAX_POWER=50

# Code partition needed to target the correct flash range
CONFIG_USE_DT_CODE_PARTITION=y

# Output UF2 by default, native bootloader supports it.
CONFIG_BUILD_OUTPUT_UF2=y

CONFIG_SPI=y

CONFIG_ZMK_KSCAN_MATRIX_WAIT_BEFORE_INPUTS=1
CONFIG_ZMK_KSCAN_MATRIX_WAIT_BETWEEN_OUTPUTS=0

CONFIG_USB_HID_POLL_INTERVAL_MS=1

CONFIG_ZMK_LED_INDICATORS=y
CONFIG_LED_GPIO=y
CONFIG_RESET=y


CONFIG_USB_HID_BOOT_PROTOCOL=y
CONFIG_USB_HID_PROTOCOL_CODE=1
